<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enderland | Tienda Oficial</title>
    <link rel="icon" type="image/jpeg" href="https://i.postimg.cc/pTZRVs1F/93db69b6-6f32-44ef-9e5a-ae199feadaa0.jpg">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* --- CONFIGURACIÓN BASE --- */
        :root {
            --primary: #9d00ff;
            --bg-dark: #0f0f0f;
            --bg-sidebar: #161616;
            --card-bg: #1e1e1e;
            --text: #ffffff;
            --text-muted: #b3b3b3;
            --category-title: #ff4747;
            --success: #00ff88;
        }

        * { box-sizing: border-box; }

        body {
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-dark);
            color: var(--text);
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* --- PANTALLA DE LOGIN Y TERMINOS --- */
        .overlay-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); z-index: 9999;
            display: flex; justify-content: center; align-items: center;
            backdrop-filter: blur(10px);
            transition: opacity 0.5s;
        }

        .login-box, .terms-box {
            background: #1a1a1a;
            padding: 40px;
            border-radius: 20px;
            border: 1px solid var(--primary);
            text-align: center;
            width: 90%; max-width: 400px;
            box-shadow: 0 0 50px rgba(157, 0, 255, 0.3);
        }

        .terms-box { max-width: 600px; text-align: left; }
        .terms-content {
            height: 300px; overflow-y: auto; background: #111; padding: 15px;
            border-radius: 8px; border: 1px solid #333; margin: 20px 0;
            font-size: 0.9rem; color: #ccc; line-height: 1.6;
        }
        .terms-content::-webkit-scrollbar { width: 8px; }
        .terms-content::-webkit-scrollbar-thumb { background: var(--primary); border-radius: 4px; }

        .login-avatar-preview {
            width: 100px; height: 100px;
            border-radius: 15px;
            margin: 0 auto 20px;
            border: 3px solid var(--primary);
            background-image: url('https://minotar.net/helm/Steve/100.png');
            background-size: cover;
            transition: background-image 0.3s;
        }

        .login-input {
            width: 100%; padding: 15px; margin-bottom: 20px;
            background: #2a2a2a; border: 2px solid #333; border-radius: 8px;
            color: #fff; font-size: 1.1rem; text-align: center; outline: none;
        }
        .login-input:focus { border-color: var(--primary); }

        .btn-enter, .btn-accept {
            background: var(--primary); color: #fff; border: none; padding: 15px 30px;
            border-radius: 8px; font-size: 1.1rem; font-weight: bold; cursor: pointer;
            width: 100%; text-transform: uppercase; transition: 0.3s;
        }
        .btn-enter:hover, .btn-accept:hover { background: #7a00c7; }

        /* --- SIDEBAR --- */
        .sidebar {
            width: 280px;
            background-color: var(--bg-sidebar);
            height: 100%;
            display: flex; flex-direction: column;
            border-right: 1px solid #2a2a2a;
            padding: 20px;
            overflow-y: auto; flex-shrink: 0;
        }

        .sidebar-profile {
            display: flex; align-items: center; gap: 15px;
            background: rgba(255,255,255,0.05);
            padding: 15px; border-radius: 10px; margin-bottom: 30px;
            border: 1px solid #333;
        }
        .mini-avatar {
            width: 40px; height: 40px; border-radius: 8px;
            background-size: cover; border: 1px solid var(--primary);
        }
        .user-info div { font-weight: bold; font-size: 0.95rem; }
        .user-info span { font-size: 0.75rem; color: var(--success); }

        .brand { text-align: center; margin-bottom: 20px; cursor: pointer; transition: 0.3s; }
        .brand:hover { transform: scale(1.05); }
        .brand h1 { font-size: 1.8rem; margin: 0; text-transform: uppercase; letter-spacing: 2px; text-shadow: 0 0 10px var(--primary); }

        .nav-category-title {
            color: var(--category-title); font-weight: 800; font-size: 0.85rem;
            margin: 20px 0 10px 10px; text-transform: uppercase; letter-spacing: 1px;
        }

        .nav-item {
            display: flex; align-items: center; gap: 12px; padding: 12px 15px;
            color: var(--text-muted); text-decoration: none; border-radius: 6px;
            transition: 0.2s; cursor: pointer; margin-bottom: 5px; font-size: 0.95rem;
        }
        .nav-item:hover { background: rgba(255,255,255,0.05); color: #fff; }
        .nav-item.active { background: var(--primary); color: #fff; }
        .nav-item i { width: 20px; text-align: center; }
        
        /* ESTILO PARA EL EMAIL DE SOPORTE */
        .support-email {
            font-size: 0.8rem; color: #888; padding-left: 45px; margin-top: -5px; margin-bottom: 10px; display: block;
        }

        .submenu-toggle { justify-content: space-between; }
        .submenu-toggle .arrow { font-size: 0.7rem; transition: transform 0.3s; }
        .submenu-toggle.open .arrow { transform: rotate(180deg); }
        
        .submenu { display: none; padding-left: 20px; margin-top: 5px; border-left: 2px solid #333; margin-left: 15px; }
        .submenu.show { display: block; animation: slideDown 0.3s ease; }
        @keyframes slideDown { from {opacity:0; transform:translateY(-10px);} to {opacity:1; transform:translateY(0);} }

        /* --- CONTENIDO --- */
        .main-content { flex-grow: 1; height: 100vh; overflow-y: auto; padding: 40px; scroll-behavior: smooth; }

        section { margin-bottom: 100px; scroll-margin-top: 40px; }
        
        .section-header {
            border-bottom: 1px solid #333; padding-bottom: 10px; margin-bottom: 30px;
            display: flex; align-items: center; gap: 15px;
        }
        .section-header h2 { margin: 0; font-size: 2rem; text-transform: uppercase; }
        .section-header i { color: var(--primary); font-size: 1.8rem; }

        /* SWITCH PRECIOS */
        .pricing-toggle {
            background: #111; padding: 10px 20px; border-radius: 50px; border: 1px solid #333;
            display: inline-flex; align-items: center; gap: 15px; margin-bottom: 30px;
        }
        .switch { position: relative; width: 40px; height: 24px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #333; transition: .4s; border-radius: 34px; }
        .slider:before { position: absolute; content: ""; height: 16px; width: 16px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: var(--primary); }
        input:checked + .slider:before { transform: translateX(16px); }
        .price-label.active { color: var(--primary); font-weight: bold; }

        /* CARDS */
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 25px; }
        
        .card {
            background: var(--card-bg); border: 1px solid #333; border-radius: 12px; padding: 25px;
            display: flex; flex-direction: column; position: relative; transition: 0.3s;
        }
        .card:hover { transform: translateY(-5px); border-color: var(--primary); }
        .card.netherite { border: 1px solid #5a0b0b; background: linear-gradient(145deg, #1e1e1e 0%, #290a0a 100%); }
        .card.netherite h3 { color: #ff5555; }
        .card h3 { font-size: 1.5rem; margin: 0 0 5px 0; color: var(--primary); text-transform: uppercase; }
        
        .price-tag {
            font-size: 2.5rem; font-weight: 800; margin: 15px 0 20px; color: #fff;
            display: flex; align-items: baseline; gap: 5px;
        }
        .currency-symbol { font-size: 1.5rem; color: #888; font-weight: normal; }
        .currency-code { font-size: 1rem; color: #666; font-weight: bold; margin-left: 5px; }

        ul { list-style: none; padding: 0; margin: 0 0 20px 0; flex-grow: 1; }
        li { padding: 8px 0; border-bottom: 1px solid #2a2a2a; color: #ccc; font-size: 0.9rem; display: flex; align-items: center; }
        li i.icon-list { color: var(--primary); width: 25px; text-align: center; margin-right: 10px; }

        /* Botón VER CONTENIDO */
        .view-kit-btn {
            background: #333; color: #fff; border: none; border-radius: 4px;
            padding: 2px 8px; font-size: 0.75rem; margin-left: auto; cursor: pointer;
            display: flex; align-items: center; gap: 5px; transition: 0.2s;
        }
        .view-kit-btn:hover { background: var(--primary); }

        .btn-add {
            background: transparent; border: 2px solid var(--primary); color: #fff; padding: 12px;
            width: 100%; border-radius: 6px; cursor: pointer; font-weight: bold; text-transform: uppercase; transition: 0.3s;
        }
        .btn-add:hover { background: var(--primary); }

        /* IMAGEN PARA KITS EN CARDS Y MODAL */
        /* Configuración para que la imagen de 338x136 se vea bien */
        .kit-image-container {
            width: 100%;
            height: 150px;
            background: #0c0c0c; /* Fondo oscuro para rellenar */
            border: 1px solid #333;
            border-radius: 8px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        .kit-image {
            width: 100%;
            height: 100%;
            object-fit: contain; /* CRÍTICO: Mantiene la proporción 338x136 sin cortar */
        }
        
        /* Imagen dentro del modal */
        .modal-kit-image {
            width: 100%;
            max-width: 400px;
            height: auto;
            border-radius: 8px;
            border: 1px solid var(--primary);
            margin: 0 auto 20px auto;
            display: block;
            background: #000;
        }

        /* CARRITO FLOTANTE */
        .cart-float {
            position: fixed; bottom: 30px; right: 30px; background: var(--primary); width: 60px; height: 60px;
            border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 1.5rem;
            box-shadow: 0 0 20px rgba(0,0,0,0.5); cursor: pointer; z-index: 200; transition: transform 0.2s;
        }
        .cart-float:hover { transform: scale(1.1); }
        .cart-count {
            position: absolute; top: -5px; right: -5px; background: #ff004c; color: white;
            font-size: 0.8rem; width: 22px; height: 22px; border-radius: 50%;
            display: flex; justify-content: center; align-items: center; font-weight: bold; border: 2px solid #fff;
        }

        /* MODALES */
        .modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8);
            z-index: 300; display: none; justify-content: center; align-items: center; backdrop-filter: blur(5px);
        }
        .modal-content {
            background: #1a1a1a; width: 90%; max-width: 500px; border-radius: 15px; padding: 30px;
            border: 1px solid var(--primary); position: relative; max-height: 85vh; overflow-y: auto;
        }
        .close-modal { position: absolute; top: 20px; right: 20px; font-size: 1.5rem; cursor: pointer; color: #888; }
        .close-modal:hover { color: #fff; }

        /* Estilos Lista Detalle Kit */
        .kit-detail-list li {
            border-bottom: 1px solid #333; padding: 8px 0; font-size: 0.95rem; display: block;
        }
        .kit-detail-list strong { color: var(--primary); }
        .kit-detail-list span { color: #aaa; font-size: 0.85rem; display: block; margin-top: 2px; }

        .cart-item { display: flex; justify-content: space-between; padding: 10px; background: #222; margin-bottom: 5px; border-radius: 5px; }

        .gift-section { margin-top: 15px; padding-top: 15px; border-top: 1px solid #333; }
        .gift-toggle { display: flex; align-items: center; gap: 10px; cursor: pointer; color: #ccc; font-size: 0.95rem; user-select: none; }
        .gift-input-field { display: none; width: 100%; padding: 12px; margin-top: 10px; background: #2a2a2a; border: 1px solid #444; border-radius: 5px; color: #fff; outline: none; transition: 0.3s; }
        .gift-input-field:focus { border-color: var(--primary); background: #222; }

        @media (max-width: 768px) {
            body { flex-direction: column; overflow: auto; }
            .sidebar { width: 100%; height: auto; position: relative; }
            .main-content { height: auto; padding: 20px; overflow: visible; }
        }
    </style>
</head>
<body>

    <div class="overlay-screen" id="login-overlay">
        <div class="login-box">
            <h2 style="margin-top:0; color:var(--primary);">IDENTIFÍCATE</h2>
            <p style="color:#ccc;">Ingresa tu Nick de Minecraft para continuar</p>
            
            <div class="login-avatar-preview" id="avatar-preview"></div>
            
            <input type="text" class="login-input" id="nick-input" placeholder="Ej: Steve" maxlength="16" oninput="updateSkin()">
            
            <button class="btn-enter" onclick="submitLogin()">CONTINUAR</button>
        </div>
    </div>

    <div class="overlay-screen" id="terms-overlay" style="display:none; opacity:0;">
        <div class="terms-box">
            <h2 style="margin-top:0; color:var(--primary); text-align: center;"><i class="fas fa-file-contract"></i> TÉRMINOS DEL SERVICIO</h2>
            <p style="text-align:center; color:#999; margin-top:-10px;">Por favor, lee y acepta para continuar.</p>
            
            <div class="terms-content">
                <p><strong>1. POLÍTICA DE REEMBOLSOS Y PAGOS</strong><br>
                Todas las ventas son finales. Usted comprende y acepta que no tiene el derecho de reembolsar, cancelar o demandar al servidor por cualquier medio con el fin de recuperar los fondos ya pagados. Al realizar una compra, usted renuncia a cualquier derecho de devolución.</p>

                <p><strong>2. CONSECUENCIAS DE DISPUTAS</strong><br>
                Si usted inicia un contracargo o disputa de pago sin autorización previa, nos reservamos el derecho de prohibirle el acceso a todos nuestros servicios de forma permanente (Ban de usuario e IP). Nos reservamos el derecho de iniciar acciones legales para recuperar daños por devoluciones forzadas.</p>

                <p><strong>3. CAMBIOS EN LOS SERVICIOS</strong><br>
                Nos reservamos el derecho de cambiar, con o sin previo aviso, cualquier precio en la tienda. También nos reservamos el derecho de modificar el contenido de un paquete específico. Los beneficios de un rango o kit pueden cambiar por razones de balance del servidor y usted no tendrá derecho a reclamar los beneficios antiguos.</p>

                <p><strong>4. RESPONSABILIDAD</strong><br>
                Enderland no se hace responsable por la pérdida de ítems dentro del juego debido a muertes, lag, reinicios o errores del usuario. Al comprar, usted apoya el mantenimiento del servidor.</p>
            </div>
            
            <button class="btn-accept" onclick="enterShop()">HE LEÍDO Y ACEPTO</button>
        </div>
    </div>

    <nav class="sidebar">
        <div class="brand" onclick="resetNavigation()">
            <h1>Enderland</h1>
        </div>

        <div class="sidebar-profile">
            <div class="mini-avatar" id="sidebar-avatar" style="background-image: url('https://minotar.net/helm/Steve/40.png');"></div>
            <div class="user-info">
                <div id="sidebar-username">Jugador</div>
                <span>En línea</span>
            </div>
        </div>

        <div class="nav-category-title">NAVEGACIÓN</div>
        <a href="#inicio" class="nav-item active" id="btn-inicio">
            <i class="fas fa-home"></i> Inicio
        </a>

        <div class="nav-category-title">TIENDA</div>
        
        <div class="nav-item submenu-toggle" id="toggle-rangos" onclick="toggleSubmenu('rangos')">
            <div style="display:flex; gap:12px; align-items:center;">
                <i class="fas fa-shield-alt"></i> RANGOS
            </div>
            <i class="fas fa-chevron-down arrow"></i>
        </div>
        <div class="submenu show" id="submenu-rangos">
            <a href="#semi-anarquico" class="nav-item">Semi-Anárquico</a>
            <a href="#vanilla-rangos" class="nav-item">Vanilla</a>
        </div>

        <div class="nav-item submenu-toggle" id="toggle-kits" onclick="toggleSubmenu('kits')">
            <div style="display:flex; gap:12px; align-items:center;">
                <i class="fas fa-box-open"></i> KITS
            </div>
            <i class="fas fa-chevron-down arrow"></i>
        </div>
        <div class="submenu" id="submenu-kits">
            <a href="#semi-kits" class="nav-item">Semi-Anárquico</a>
            <a href="#vanilla-kits" class="nav-item">Vanilla</a>
        </div>

        <div class="nav-category-title">SOPORTE</div>
        <a href="https://discord.gg/PMYA2K3YWy" target="_blank" class="nav-item">
            <i class="fab fa-discord"></i> Discord
        </a>
        <div class="nav-item" style="cursor: default;">
            <i class="fas fa-envelope"></i> Mail
        </div>
        <a href="mailto:Soporte@enderland.org" class="support-email">Soporte@enderland.org</a>
    </nav>

    <main class="main-content" id="scroll-container">
        
        <section id="inicio">
            <div class="section-header">
                <i class="fas fa-info-circle"></i>
                <h2>Bienvenido</h2>
            </div>
            <div style="background: linear-gradient(90deg, #1f1f1f, transparent); padding: 40px; border-left: 5px solid var(--primary); border-radius: 8px;">
                <h3 style="margin-top: 0; color: var(--primary); font-size: 1.5rem;">ENDERLAND STORE</h3>
                <p style="color: #ccc; line-height: 1.6; font-size: 1.1rem;">
                    Seleccioná una categoría del menú de la izquierda para ver los paquetes.
                    <br>Tus compras ayudan a mantener el servidor online y sin lag.
                </p>
                <div style="background: rgba(157,0,255,0.1); display: inline-block; padding: 10px 20px; border-radius: 5px; margin-top: 10px; cursor: pointer; border: 1px solid var(--primary);" onclick="copyIP()">
                    IP: <strong>play.enderland.org</strong> <i class="far fa-copy" style="margin-left: 10px;"></i>
                </div>
            </div>
        </section>

        <section id="semi-anarquico">
            <div class="section-header">
                <i class="fas fa-skull"></i>
                <h2>Rangos Semi-Anárquico</h2>
            </div>
            <div class="pricing-toggle">
                <span class="price-label active" id="label-month-semi">Mensual</span>
                <label class="switch">
                    <input type="checkbox" id="price-switch-semi" onclick="togglePrice(this)">
                    <span class="slider"></span>
                </label>
                <span class="price-label" id="label-perm-semi">Permanente</span>
            </div>
            <div class="grid">
                <div class="card">
                    <h3>Cobre</h3>
                    <div class="price-tag">
                        <span class="currency-symbol">$</span><span class="amount" data-m="1.00" data-p="1.60">1.00</span><span class="currency-code">USD</span>
                    </div>
                    <ul>
                        <li>
                            <i class="fas fa-box icon-list"></i> Kit Cobre
                            <button class="view-kit-btn" onclick="showKitDetails('cobre')"><i class="fas fa-eye"></i> Ver</button>
                        </li>
                        <li><i class="fas fa-check icon-list"></i> Prefijo [COBRE]</li>
                        <li><i class="fas fa-home icon-list"></i> 5 Sethomes</li>
                        <li><i class="fas fa-hat-wizard icon-list"></i> /hat</li>
                    </ul>
                    <button class="btn-add" onclick="addToCart('Rango Cobre (Semi)', this)">Añadir</button>
                </div>
                <div class="card">
                    <h3>Hierro</h3>
                    <div class="price-tag">
                        <span class="currency-symbol">$</span><span class="amount" data-m="2.50" data-p="4.00">2.50</span><span class="currency-code">USD</span>
                    </div>
                    <ul>
                        <li>
                            <i class="fas fa-box icon-list"></i> Kit Hierro
                            <button class="view-kit-btn" onclick="showKitDetails('hierro')"><i class="fas fa-eye"></i> Ver</button>
                        </li>
                        <li><i class="fas fa-arrow-up icon-list"></i> Todo lo de Cobre</li>
                        <li><i class="fas fa-home icon-list"></i> 8 Sethomes</li>
                        <li><i class="fas fa-tools icon-list"></i> /workbench</li>
                    </ul>
                    <button class="btn-add" onclick="addToCart('Rango Hierro (Semi)', this)">Añadir</button>
                </div>
                <div class="card">
                    <h3>Oro</h3>
                    <div class="price-tag">
                        <span class="currency-symbol">$</span><span class="amount" data-m="4.00" data-p="6.50">4.00</span><span class="currency-code">USD</span>
                    </div>
                    <ul>
                        <li>
                            <i class="fas fa-box icon-list"></i> Kit Oro
                            <button class="view-kit-btn" onclick="showKitDetails('oro')"><i class="fas fa-eye"></i> Ver</button>
                        </li>
                        <li><i class="fas fa-arrow-up icon-list"></i> Todo lo de Hierro</li>
                        <li><i class="fas fa-home icon-list"></i> 12 Sethomes</li>
                        <li><i class="fas fa-box-open icon-list"></i> /enderchest</li>
                    </ul>
                    <button class="btn-add" onclick="addToCart('Rango Oro (Semi)', this)">Añadir</button>
                </div>
                <div class="card">
                    <h3 style="color: #00e5ff;">Diamante</h3>
                    <div class="price-tag">
                        <span class="currency-symbol">$</span><span class="amount" data-m="6.00" data-p="9.50">6.00</span><span class="currency-code">USD</span>
                    </div>
                    <ul>
                        <li>
                            <i class="fas fa-box icon-list"></i> Kit Diamante
                            <button class="view-kit-btn" onclick="showKitDetails('diamante')"><i class="fas fa-eye"></i> Ver</button>
                        </li>
                        <li><i class="fas fa-arrow-up icon-list"></i> Todo lo de Oro</li>
                        <li><i class="fas fa-skull icon-list"></i> /back al morir</li>
                        <li><i class="fas fa-bolt icon-list"></i> Tp instantáneo</li>
                    </ul>
                    <button class="btn-add" onclick="addToCart('Rango Diamante (Semi)', this)">Añadir</button>
                </div>
                <div class="card">
                    <h3 style="color: #00ff88;">Esmeralda</h3>
                    <div class="price-tag">
                        <span class="currency-symbol">$</span><span class="amount" data-m="8.00" data-p="12.50">8.00</span><span class="currency-code">USD</span>
                    </div>
                    <ul>
                        <li>
                            <i class="fas fa-box icon-list"></i> Kit Esmeralda
                            <button class="view-kit-btn" onclick="showKitDetails('esmeralda')"><i class="fas fa-eye"></i> Ver</button>
                        </li>
                        <li><i class="fas fa-arrow-up icon-list"></i> Todo lo de Diamante</li>
                        <li><i class="fas fa-utensils icon-list"></i> /feed y /near</li>
                        <li><i class="fas fa-home icon-list"></i> 40 Sethomes</li>
                    </ul>
                    <button class="btn-add" onclick="addToCart('Rango Esmeralda (Semi)', this)">Añadir</button>
                </div>
                <div class="card netherite">
                    <h3>Netherite</h3>
                    <div class="price-tag">
                        <span class="currency-symbol">$</span><span class="amount" data-m="10.00" data-p="16.00">10.00</span><span class="currency-code">USD</span>
                    </div>
                    <ul>
                        <li>
                            <i class="fas fa-crown icon-list"></i> <strong>Kit Netherite</strong>
                            <button class="view-kit-btn" onclick="showKitDetails('netherite')"><i class="fas fa-eye"></i> Ver</button>
                        </li>
                        <li><i class="fas fa-arrow-up icon-list"></i> Todo lo anterior</li>
                        <li><i class="fas fa-home icon-list"></i> 100 Sethomes</li>
                        <li><i class="fas fa-hammer icon-list"></i> /repair</li>
                        <li><i class="fas fa-feather icon-list"></i> Fly en Lobby</li>
                        <li><i class="fas fa-mask icon-list"></i> /nick + KIT OP</li>
                    </ul>
                    <button class="btn-add" onclick="addToCart('Rango Netherite (Semi)', this)">Añadir</button>
                </div>
            </div>
        </section>

        <section id="vanilla-rangos">
            <div class="section-header">
                <i class="fas fa-leaf"></i>
                <h2>Rangos Vanilla</h2>
            </div>
            
            <div class="pricing-toggle">
                <span class="price-label active" id="label-month-vanilla">Mensual</span>
                <label class="switch">
                    <input type="checkbox" id="price-switch-vanilla" onclick="togglePrice(this)">
                    <span class="slider"></span>
                </label>
                <span class="price-label" id="label-perm-vanilla">Permanente</span>
            </div>

            <div class="grid">
                <div class="card">
                    <h3>Aprendiz</h3>
                    <div class="price-tag">
                        <span class="currency-symbol">$</span><span class="amount" data-m="1.00" data-p="1.60">1.00</span><span class="currency-code">USD</span>
                    </div>
                    <ul>
                        <li>
                            <i class="fas fa-seedling icon-list"></i> Kit Aprendiz
                            <button class="view-kit-btn" onclick="showKitDetails('aprendiz')"><i class="fas fa-eye"></i> Ver</button>
                        </li>
                        <li><i class="fas fa-home icon-list"></i> 5 Sethomes</li>
                        <li><i class="fas fa-map-marker-alt icon-list"></i> /tpahere (Traer jugador)</li>
                        <li><i class="fas fa-hat-wizard icon-list"></i> /hat (Bloque cabeza)</li>
                    </ul>
                    <button class="btn-add" onclick="addToCart('Rango Aprendiz (Vanilla)', this)">Añadir</button>
                </div>

                <div class="card">
                    <h3>Explorador</h3>
                    <div class="price-tag">
                        <span class="currency-symbol">$</span><span class="amount" data-m="2.50" data-p="4.00">2.50</span><span class="currency-code">USD</span>
                    </div>
                    <ul>
                        <li>
                            <i class="fas fa-compass icon-list"></i> Kit Explorador
                            <button class="view-kit-btn" onclick="showKitDetails('explorador')"><i class="fas fa-eye"></i> Ver</button>
                        </li>
                        <li><i class="fas fa-arrow-up icon-list"></i> Todo lo de Aprendiz</li>
                        <li><i class="fas fa-home icon-list"></i> 8 Sethomes</li>
                        <li><i class="fas fa-tools icon-list"></i> /workbench (Mesa virtual)</li>
                    </ul>
                    <button class="btn-add" onclick="addToCart('Rango Explorador (Vanilla)', this)">Añadir</button>
                </div>

                <div class="card">
                    <h3>Guerrero</h3>
                    <div class="price-tag">
                        <span class="currency-symbol">$</span><span class="amount" data-m="4.00" data-p="6.50">4.00</span><span class="currency-code">USD</span>
                    </div>
                    <ul>
                        <li>
                            <i class="fas fa-shield-alt icon-list"></i> Kit Guerrero
                            <button class="view-kit-btn" onclick="showKitDetails('guerrero')"><i class="fas fa-eye"></i> Ver</button>
                        </li>
                        <li><i class="fas fa-arrow-up icon-list"></i> Todo lo de Explorador</li>
                        <li><i class="fas fa-home icon-list"></i> 12 Sethomes</li>
                        <li><i class="fas fa-box-open icon-list"></i> /enderchest (Virtual)</li>
                    </ul>
                    <button class="btn-add" onclick="addToCart('Rango Guerrero (Vanilla)', this)">Añadir</button>
                </div>

                <div class="card">
                    <h3 style="color: #a335ee;">Épico</h3>
                    <div class="price-tag">
                        <span class="currency-symbol">$</span><span class="amount" data-m="6.00" data-p="9.50">6.00</span><span class="currency-code">USD</span>
                    </div>
                    <ul>
                        <li>
                            <i class="fas fa-gem icon-list"></i> Kit Épico
                            <button class="view-kit-btn" onclick="showKitDetails('epico')"><i class="fas fa-eye"></i> Ver</button>
                        </li>
                        <li><i class="fas fa-arrow-up icon-list"></i> Todo lo de Guerrero</li>
                        <li><i class="fas fa-home icon-list"></i> 20 Sethomes</li>
                        <li><i class="fas fa-skull icon-list"></i> /back (Volver al morir)</li>
                    </ul>
                    <button class="btn-add" onclick="addToCart('Rango Épico (Vanilla)', this)">Añadir</button>
                </div>

                <div class="card">
                    <h3 style="color: #ffd700;">Héroe</h3>
                    <div class="price-tag">
                        <span class="currency-symbol">$</span><span class="amount" data-m="8.00" data-p="12.50">8.00</span><span class="currency-code">USD</span>
                    </div>
                    <ul>
                        <li>
                            <i class="fas fa-medal icon-list"></i> Kit Héroe
                            <button class="view-kit-btn" onclick="showKitDetails('heroe')"><i class="fas fa-eye"></i> Ver</button>
                        </li>
                        <li><i class="fas fa-arrow-up icon-list"></i> Todo lo de Épico</li>
                        <li><i class="fas fa-home icon-list"></i> 40 Sethomes</li>
                        <li><i class="fas fa-utensils icon-list"></i> /feed (Saciar hambre)</li>
                    </ul>
                    <button class="btn-add" onclick="addToCart('Rango Héroe (Vanilla)', this)">Añadir</button>
                </div>

                <div class="card netherite">
                    <h3>Leyenda</h3>
                    <div class="price-tag">
                        <span class="currency-symbol">$</span><span class="amount" data-m="10.00" data-p="16.00">10.00</span><span class="currency-code">USD</span>
                    </div>
                    <ul>
                        <li>
                            <i class="fas fa-crown icon-list"></i> <strong>Kit Leyenda</strong>
                            <button class="view-kit-btn" onclick="showKitDetails('leyenda')"><i class="fas fa-eye"></i> Ver</button>
                        </li>
                        <li><i class="fas fa-arrow-up icon-list"></i> Todo lo anterior</li>
                        <li><i class="fas fa-home icon-list"></i> 100 Sethomes</li>
                        <li><i class="fas fa-hammer icon-list"></i> /repair (Reparar mano)</li>
                        <li><i class="fas fa-feather icon-list"></i> /fly (Volar en Lobby)</li>
                        <li><i class="fas fa-palette icon-list"></i> Chat de Colores</li>
                    </ul>
                    <button class="btn-add" onclick="addToCart('Rango Leyenda (Vanilla)', this)">Añadir</button>
                </div>
            </div>
        </section>

        <section id="semi-kits">
            <div class="section-header">
                <i class="fas fa-box-open"></i>
                <h2>Kits Semi-Anárquico</h2>
            </div>
            <div class="grid">
                <div class="card">
                    <div class="kit-image-container">
                        <img src="https://i.postimg.cc/d1mtksDL/8370afda-5426-43f0-b420-7353385b51c2.jpg" alt="Kit Pociones" class="kit-image">
                    </div>
                    <h3>Kit Pociones</h3>
                    <div class="price-tag">
                        <span class="currency-symbol">$</span><span class="amount" data-m="3.00" data-p="3.00">3.00</span><span class="currency-code">USD</span>
                    </div>
                    <ul>
                        <li><i class="fas fa-flask icon-list"></i> 10x Curación Instantánea II</li>
                        <li><i class="fas fa-ghost icon-list"></i> 7x Invisibilidad (8:00)</li>
                        <li><i class="fas fa-bolt icon-list"></i> 4x Velocidad II (1:30)</li>
                        <li><i class="fas fa-fist-raised icon-list"></i> 6x Fuerza II (1:30)</li>
                    </ul>
                    <button class="btn-add" onclick="addToCart('Kit Pociones (Semi)', this)">Añadir</button>
                </div>

                <div class="card">
                    <div class="kit-image-container">
                        <img src="https://i.postimg.cc/7ZFxKG2C/1b63c615-8ef0-4ebe-a96b-8b8226f666ba.jpg" alt="Kit Comida" class="kit-image">
                    </div>
                    <h3>Kit Comida</h3>
                    <div class="price-tag">
                        <span class="currency-symbol">$</span><span class="amount" data-m="4.00" data-p="4.00">4.00</span><span class="currency-code">USD</span>
                    </div>
                    <ul>
                        <li><i class="fas fa-apple-alt icon-list"></i> 6 Stacks Manzanas Doradas</li>
                        <li><i class="fas fa-magic icon-list"></i> 3 Stacks Manzanas Encantadas</li>
                        <li><i class="fas fa-drumstick-bite icon-list"></i> 6 Stacks Chuletas, 6 Stacks Papas</li>
                        <li><i class="fas fa-seedling icon-list"></i> 3 Stacks Polvo Hueso</li>
                    </ul>
                    <button class="btn-add" onclick="addToCart('Kit Comida (Semi)', this)">Añadir</button>
                </div>
            </div>
        </section>

        <section id="vanilla-kits">
            <div class="section-header">
                <i class="fas fa-archive"></i>
                <h2>Kits Vanilla</h2>
            </div>
            <div class="grid">
                
                <div class="card netherite">
                    <div class="kit-image-container">
                         <img src="https://placehold.co/338x136/000/FFF?text=FOTO+KIT+INTOXICADO+(338x136)" alt="Kit Intoxicado" class="kit-image">
                    </div>
                    
                    <h3 style="color: #ff3333;">Kit Intoxicado</h3>
                    
                    
                    <div class="price-tag">
                        <span class="currency-symbol">$</span>
                        <span class="amount" data-m="15.00" data-p="15.00">15.00</span> 
                        <span class="currency-code">USD</span>
                    </div>
                    
                    <ul>
                        <li><i class="fas fa-tshirt icon-list"></i> <strong>Full Netherite</strong></li>
                        <li><i class="fas fa-magic icon-list"></i> Encantamientos TOP</li>
                        <li>
                            <button class="view-kit-btn" style="width:100%; justify-content:center; margin-top:5px; background:rgba(255,255,255,0.1);" onclick="showKitDetails('intoxicado')">
                                <i class="fas fa-search"></i> Ver encantamientos exactos
                            </button>
                        </li>
                    </ul>
                    <button class="btn-add" onclick="addToCart('Kit Intoxicado (Vanilla)', this)">Añadir</button>
                </div>

                <div class="card">
                    <div class="kit-image-container">
                        <img src="https://placehold.co/338x136/222/FFF?text=FOTO+SHULKER+POCIONES+(338x136)" alt="Kit Pociones" class="kit-image">
                    </div>
                    <h3>Kit Pociones</h3>
                    <div class="price-tag">
                        <span class="currency-symbol">$</span><span class="amount" data-m="3.00" data-p="3.00">3.00</span><span class="currency-code">USD</span>
                    </div>
                    <ul>
                        <li><i class="fas fa-flask icon-list"></i> 10x Curación Instantánea II</li>
                        <li><i class="fas fa-ghost icon-list"></i> 7x Invisibilidad (8:00)</li>
                        <li><i class="fas fa-bolt icon-list"></i> 4x Velocidad II (1:30)</li>
                        <li><i class="fas fa-fist-raised icon-list"></i> 6x Fuerza II (1:30)</li>
                    </ul>
                    <button class="btn-add" onclick="addToCart('Kit Pociones (Vanilla)', this)">Añadir</button>
                </div>

                <div class="card">
                    <div class="kit-image-container">
                        <img src="https://placehold.co/338x136/222/FFF?text=FOTO+SHULKER+COMIDA+(338x136)" alt="Kit Comida" class="kit-image">
                    </div>
                    <h3>Kit Comida</h3>
                    <div class="price-tag">
                        <span class="currency-symbol">$</span><span class="amount" data-m="4.00" data-p="4.00">4.00</span><span class="currency-code">USD</span>
                    </div>
                    <ul>
                        <li><i class="fas fa-apple-alt icon-list"></i> 6 Stacks Manzanas Doradas</li>
                        <li><i class="fas fa-magic icon-list"></i> 3 Stacks Manzanas Encantadas</li>
                        <li><i class="fas fa-drumstick-bite icon-list"></i> 6 Stacks Chuletas, 6 Stacks Papas</li>
                        <li><i class="fas fa-seedling icon-list"></i> 3 Stacks Polvo Hueso</li>
                    </ul>
                    <button class="btn-add" onclick="addToCart('Kit Comida (Vanilla)', this)">Añadir</button>
                </div>

            </div>
        </section>

    </main>

    <div class="cart-float" onclick="openCart()">
        <i class="fas fa-shopping-cart"></i>
        <div class="cart-count" id="cart-count">0</div>
    </div>

    <div class="modal" id="cart-modal">
        <div class="modal-content">
            <i class="fas fa-times close-modal" onclick="closeModal('cart-modal')"></i>
            <h3 style="margin:0 0 20px 0; border-bottom: 1px solid #333; padding-bottom: 10px;">Tu Carrito</h3>
            
            <div style="background: #222; padding: 10px; border-radius: 5px; margin-bottom: 15px; font-size: 0.9rem; color: #ccc;">
                Comprando como: <strong id="cart-username" style="color: var(--primary);">...</strong>
            </div>
            
            <div id="cart-items-container" style="max-height: 250px; overflow-y: auto;">
                <p style="text-align: center; color: #666;">Vacío</p>
            </div>

            <div class="gift-section">
                <label class="gift-toggle">
                    <input type="checkbox" id="is-gift" onchange="toggleGiftInput()">
                    <span><i class="fas fa-gift" style="color: #ff4747;"></i> ¿Es un regalo para otro jugador?</span>
                </label>
                <input type="text" id="gift-nickname" class="gift-input-field" placeholder="Ingresa el Nick exacto del destinatario...">
            </div>

            <div style="margin-top: 20px; text-align: right; font-size: 1.2rem; font-weight: bold; color: var(--success);">
                Total: $<span id="cart-total-price">0.00</span>
            </div>
            
            <button onclick="checkout()" style="width: 100%; padding: 15px; margin-top: 20px; background: var(--success); border: none; border-radius: 8px; font-weight: bold; cursor: pointer;">
                <i class="fab fa-discord"></i> GENERAR PEDIDO
            </button>
        </div>
    </div>

    <div class="modal" id="kit-modal">
        <div class="modal-content">
            <i class="fas fa-times close-modal" onclick="closeModal('kit-modal')"></i>
            <h3 id="kit-modal-title" style="margin:0 0 15px 0; color: var(--primary); text-transform: uppercase;">CONTENIDO DEL KIT</h3>
            
            <img src="" id="kit-modal-img" class="modal-kit-image" style="display:none;" alt="Contenido del Kit">
            
            <ul class="kit-detail-list" id="kit-modal-list">
                </ul>
        </div>
    </div>

    <script>
        // --- IMÁGENES DE LOS KITS (RANGOS) ---
        // Pega aquí los enlaces de tus fotos de Shulkers para que salgan en el popup
        const kitImages = {
            'cobre': 'https://i.postimg.cc/PxFZp50K/cobre.png',
            'hierro': 'https://i.postimg.cc/HkCM7KPJ/hierro.png',
            'oro': 'https://i.postimg.cc/3NvykCX8/oro.png',
            'diamante': 'https://i.postimg.cc/bYsBw65V/diamante.png',
            'esmeralda': 'https://i.postimg.cc/rwLngqpX/esmeralda.png',
            'netherite': 'https://i.postimg.cc/pdss28Y3/netherita.png',
            'aprendiz': 'https://i.postimg.cc/pLX8PSGr/Captura-de-pantalla-2026-02-02-203107.png',
            'explorador': 'https://i.postimg.cc/bv42Hwz1/explorador.png',
            'guerrero': 'https://i.postimg.cc/L5pYwQg4/Captura-de-pantalla-2026-02-02-203142.png',
            'epico': 'https://i.postimg.cc/CMGfk09n/Captura-de-pantalla-2026-02-02-203155.png',
            'heroe': 'https://i.postimg.cc/4xSKsxHF/Captura-de-pantalla-2026-02-02-203208.png',
            'leyenda': 'https://i.postimg.cc/Kzn4P7qp/Captura-de-pantalla-2026-02-02-203235.png',
            'intoxicado': 'https://i.postimg.cc/mkBk8cKS/Captura-de-pantalla-2026-02-02-203219.png'
        };

        // --- DATA DE KITS ---
        const kitData = {
            // --- SEMI ANARQUICO ---
            'cobre': `
                <li><strong>Casco de Hierro</strong><span>Protección I, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pechera de Hierro</strong><span>Protección I, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pantalones de Hierro</strong><span>Protección I, Irrompibilidad III, Reparación</span></li>
                <li><strong>Botas de Hierro</strong><span>Protección I, Irrompibilidad III, Reparación</span></li>
                <li><strong>Espada de Hierro</strong><span>Filo I, Irrompibilidad II</span></li>
                <li><strong>Pico de Hierro</strong><span>Eficiencia I, Irrompibilidad II</span></li>
                <li><strong>Hacha de Hierro</strong><span>Eficiencia III, Irrompibilidad II</span></li>
                <li><strong>Pala de Hierro</strong><span>Eficiencia II, Irrompibilidad II</span></li>
            `,
            'hierro': `
                <li><strong>Casco de Hierro</strong><span>Protección II, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pechera de Hierro</strong><span>Protección II, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pantalones de Hierro</strong><span>Protección II, Irrompibilidad III, Reparación</span></li>
                <li><strong>Botas de Hierro</strong><span>Protección II, Irrompibilidad III, Reparación</span></li>
                <li><strong>Espada de Hierro</strong><span>Filo III, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pico de Hierro</strong><span>Eficiencia III, Irrompibilidad III, Reparación</span></li>
                <li><strong>Hacha de Hierro</strong><span>Eficiencia IV, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pala de Hierro</strong><span>Eficiencia III, Irrompibilidad III, Reparación</span></li>
                <li><strong>Arco</strong><span>Poder II, Irrompibilidad III</span></li>
            `,
            'oro': `
                <li><strong>Casco de Diamante</strong><span>Protección II, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pechera de Diamante</strong><span>Protección II, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pantalones de Diamante</strong><span>Protección II, Irrompibilidad III, Reparación</span></li>
                <li><strong>Botas de Diamante</strong><span>Protección II, Irrompibilidad III, Reparación</span></li>
                <li><strong>Espada de Diamante</strong><span>Filo IV, Irrompibilidad III</span></li>
                <li><strong>Pico de Diamante</strong><span>Fortuna III, Eficiencia IV</span></li>
                <li><strong>Hacha de Diamante</strong><span>Eficiencia V</span></li>
                <li><strong>Pala de Diamante</strong><span>Eficiencia IV</span></li>
                <li><strong>Arco</strong><span>Poder III</span></li>
            `,
            'diamante': `
                <li><strong>Casco de Diamante</strong><span>Protección IV, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pechera de Diamante</strong><span>Protección IV, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pantalones de Diamante</strong><span>Protección IV, Irrompibilidad III, Reparación</span></li>
                <li><strong>Botas de Diamante</strong><span>Protección IV, Irrompibilidad III, Reparación</span></li>
                <li><strong>Elytras</strong><span>Irrompibilidad III</span></li>
                <li><strong>Espada de Diamante</strong><span>Filo V, Aspecto ígneo II, Irrompibilidad III</span></li>
                <li><strong>Pico de Diamante</strong><span>Fortuna III, Eficiencia IV, Irrompibilidad III</span></li>
                <li><strong>Hacha de Diamante</strong><span>Eficiencia V, Irrompibilidad III</span></li>
                <li><strong>Pala de Diamante</strong><span>Eficiencia V, Irrompibilidad III</span></li>
                <li><strong>Arco</strong><span>Poder III, Llama</span></li>
            `,
            'esmeralda': `
                <li><strong>Casco de Diamante</strong><span>Prot IV, Respiración III, Afinidad Acuática, Irromp III, Reparación</span></li>
                <li><strong>Pechera de Diamante</strong><span>Protección IV, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pantalones de Diamante</strong><span>Protección IV, Irrompibilidad III, Reparación</span></li>
                <li><strong>Botas de Diamante</strong><span>Prot IV, Caída de Pluma IV, Irrompibilidad III, Reparación</span></li>
                <li><strong>Elytras</strong><span>Irrompibilidad III, Reparación</span></li>
                <li><strong>Espada de Diamante</strong><span>Filo V, Aspecto ígneo II, Empuje II, Irromp III, Reparación</span></li>
                <li><strong>Pico de Diamante</strong><span>Fortuna III, Eficiencia V, Irromp III, Reparación</span></li>
                <li><strong>Hacha de Diamante</strong><span>Eficiencia V, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pala de Diamante</strong><span>Eficiencia V, Irrompibilidad III, Reparación</span></li>
                <li><strong>Arco</strong><span>Poder III, Llama, Reparación</span></li>
            `,
            'netherite': `
                <li><strong>Casco de Netherite</strong><span>Prot III, Respiración III, Afinidad Acuática, Irromp III, Reparación</span></li>
                <li><strong>Pechera de Netherite</strong><span>Protección III, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pantalones de Netherite</strong><span>Protección III, Irrompibilidad III, Reparación</span></li>
                <li><strong>Botas de Netherite</strong><span>Prot III, Caída Pluma IV, Vel. Alma III, Irromp III, Reparación</span></li>
                <li><strong>Elytras</strong><span>Protección IV, Irrompibilidad III, Reparación</span></li>
                <li><strong>Espada de Netherite</strong><span>Filo IV, Empuje II, Botín III, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pico de Netherite</strong><span>Fortuna III, Eficiencia IV, Irrompibilidad III, Reparación</span></li>
                <li><strong>Hacha de Netherite</strong><span>Eficiencia IV, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pala de Netherite</strong><span>Eficiencia IV, Irrompibilidad III, Reparación</span></li>
                <li><strong>Arco</strong><span>Poder III, Llama, Empuje II, Reparación</span></li>
            `,

            // --- VANILLA ---
            'aprendiz': `
                <li><strong>Casco de Hierro</strong><span>Protección I, Irrompibilidad III</span></li>
                <li><strong>Pechera de Hierro</strong><span>Protección I, Irrompibilidad III</span></li>
                <li><strong>Pantalones de Hierro</strong><span>Protección I, Irrompibilidad III</span></li>
                <li><strong>Espada de Hierro</strong><span>Filo I, Irrompibilidad III</span></li>
                <li><strong>Pico de Hierro</strong><span>Eficiencia I, Irrompibilidad III</span></li>
                <li><strong>Pala de Hierro</strong><span>Eficiencia I, Irrompibilidad III</span></li>
                <li><strong>Hacha de Hierro</strong><span>Eficiencia I, Irrompibilidad III</span></li>
                <li><strong>Arco</strong><span>Poder I, Irrompibilidad III</span></li>
            `,
            'explorador': `
                <li><strong>Casco de Hierro</strong><span>Protección III, Irrompibilidad III</span></li>
                <li><strong>Pechera de Hierro</strong><span>Protección III, Irrompibilidad III</span></li>
                <li><strong>Pantalones de Hierro</strong><span>Protección III, Irrompibilidad III</span></li>
                <li><strong>Botas de Hierro</strong><span>Protección III, Irrompibilidad III</span></li>
                <li><strong>Espada de Hierro</strong><span>Filo III, Irrompibilidad III</span></li>
                <li><strong>Pico de Hierro</strong><span>Fortuna II, Eficiencia III, Irrompibilidad III</span></li>
                <li><strong>Hacha de Hierro</strong><span>Eficiencia III, Irrompibilidad III</span></li>
                <li><strong>Arco</strong><span>Poder II</span></li>
            `,
            'guerrero': `
                <li><strong>Casco de Diamante</strong><span>Protección I, Irrompibilidad III</span></li>
                <li><strong>Pechera de Diamante</strong><span>Protección I, Irrompibilidad III</span></li>
                <li><strong>Pantalones de Diamante</strong><span>Protección I, Irrompibilidad III</span></li>
                <li><strong>Botas de Diamante</strong><span>Protección I, Irrompibilidad III</span></li>
                <li><strong>Espada de Hierro</strong><span>Filo V, Irrompibilidad III</span></li>
                <li><strong>Pico de Hierro</strong><span>Eficiencia V, Irrompibilidad III</span></li>
                <li><strong>Hacha de Diamante</strong><span>Eficiencia III, Irrompibilidad III</span></li>
                <li><strong>Pala de Diamante</strong><span>Eficiencia III, Irrompibilidad III</span></li>
                <li><strong>Arco</strong><span>Poder II, Irrompibilidad III</span></li>
            `,
            'epico': `
                <li><strong>Casco de Diamante</strong><span>Protección II, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pechera de Diamante</strong><span>Protección II, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pantalones de Diamante</strong><span>Protección II, Irrompibilidad III, Reparación</span></li>
                <li><strong>Botas de Diamante</strong><span>Protección II, Irrompibilidad III, Reparación</span></li>
                <li><strong>Espada de Diamante</strong><span>Filo III, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pico de Diamante</strong><span>Eficiencia III, Irrompibilidad III, Reparación</span></li>
                <li><strong>Hacha de Diamante</strong><span>Eficiencia III, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pala de Diamante</strong><span>Eficiencia III, Irrompibilidad III, Reparación</span></li>
                <li><strong>Arco</strong><span>Poder II, Irrompibilidad III, Reparación</span></li>
            `,
            'heroe': `
                <li><strong>Casco de Diamante</strong><span>Protección III, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pechera de Diamante</strong><span>Protección III, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pantalones de Diamante</strong><span>Protección III, Irrompibilidad III, Reparación</span></li>
                <li><strong>Botas de Diamante</strong><span>Protección III, Irrompibilidad III, Reparación</span></li>
                <li><strong>Espada de Diamante</strong><span>Filo IV, Aspecto Ígneo I, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pico de Diamante</strong><span>Fortuna III, Eficiencia IV, Irrompibilidad III, Reparación</span></li>
                <li><strong>Hacha de Diamante</strong><span>Eficiencia IV, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pala de Diamante</strong><span>Eficiencia IV, Irrompibilidad III, Reparación</span></li>
                <li><strong>Arco</strong><span>Poder IV, Fuego, Irrompibilidad III</span></li>
            `,
            'leyenda': `
                <li><strong>Casco de Diamante</strong><span>Prot IV, Irromp III, Afinidad Acuática, Reparación, Respiración III</span></li>
                <li><strong>Pechera de Diamante</strong><span>Protección IV, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pantalones de Diamante</strong><span>Protección IV, Irrompibilidad III, Reparación</span></li>
                <li><strong>Botas de Diamante</strong><span>Prot IV, Caída Pluma IV, Vel. Alma III, Irromp III, Reparación</span></li>
                <li><strong>Espada de Diamante</strong><span>Filo V, Aspecto Ígneo II, Empuje II, Irromp III, Reparación</span></li>
                <li><strong>Pico de Diamante</strong><span>Fortuna III, Eficiencia V, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pala de Diamante</strong><span>Eficiencia V, Irrompibilidad III, Reparación</span></li>
                <li><strong>Hacha de Diamante</strong><span>Eficiencia V, Irrompibilidad III, Reparación</span></li>
                <li><strong>Arco</strong><span>Poder V, Fuego, Irrompibilidad III</span></li>
            `,
            'intoxicado': `
                <li><strong>Casco de Netherite</strong><span>Prot IV, Irromp III, Afinidad Acuática, Reparación, Respiración III</span></li>
                <li><strong>Pechera de Netherite</strong><span>Protección IV, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pantalones de Netherite</strong><span>Protección IV, Irrompibilidad III, Reparación</span></li>
                <li><strong>Botas de Netherite</strong><span>Prot IV, Caída Pluma IV, Vel. Alma III, Irromp III, Reparación</span></li>
                <li><strong>Espada de Netherite</strong><span>Filo V, Aspecto Ígneo II, Empuje II, Irromp III, Reparación</span></li>
                <li><strong>Pico de Netherite</strong><span>Fortuna III, Eficiencia V, Irrompibilidad III, Reparación</span></li>
                <li><strong>Pala de Netherite</strong><span>Eficiencia V, Irrompibilidad III, Reparación</span></li>
                <li><strong>Hacha de Netherite</strong><span>Eficiencia V, Irrompibilidad III, Reparación</span></li>
            `
        };

        // --- 1. LOGIN Y TÉRMINOS ---
        let globalUser = "Invitado";

        function updateSkin() {
            const nick = document.getElementById("nick-input").value;
            const preview = document.getElementById("avatar-preview");
            const url = nick.length > 0 ? `https://minotar.net/helm/${nick}/100.png` : `https://minotar.net/helm/Steve/100.png`;
            preview.style.backgroundImage = `url('${url}')`;
        }

        function submitLogin() {
            const input = document.getElementById("nick-input");
            const val = input.value.trim();
            if(val === "") {
                input.style.borderColor = "red";
                setTimeout(() => input.style.borderColor = "#333", 1000);
                return;
            }
            globalUser = val;
            document.getElementById("login-overlay").style.opacity = "0";
            setTimeout(() => {
                document.getElementById("login-overlay").style.display = "none";
                const termsOverlay = document.getElementById("terms-overlay");
                termsOverlay.style.display = "flex";
                setTimeout(() => termsOverlay.style.opacity = "1", 50);
            }, 500);
        }

        function enterShop() {
            document.getElementById("sidebar-username").innerText = globalUser;
            document.getElementById("sidebar-avatar").style.backgroundImage = `url('https://minotar.net/helm/${globalUser}/40.png')`;
            document.getElementById("cart-username").innerText = globalUser;
            const termsOverlay = document.getElementById("terms-overlay");
            termsOverlay.style.opacity = "0";
            setTimeout(() => termsOverlay.style.display = "none", 500);
        }

        // --- 2. MODALES Y NAVEGACIÓN ---
        function resetNavigation() {
            // Scroll arriba
            document.getElementById('scroll-container').scrollTop = 0;
            
            // Cerrar submenús
            document.querySelectorAll('.submenu').forEach(el => el.classList.remove('show'));
            document.querySelectorAll('.submenu-toggle').forEach(el => el.classList.remove('open'));
            
            // Set active home
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            document.getElementById('btn-inicio').classList.add('active');
        }

        function openCart() { document.getElementById("cart-modal").style.display = "flex"; }
        
        function showKitDetails(kitKey) {
            const modal = document.getElementById("kit-modal");
            const listContainer = document.getElementById("kit-modal-list");
            const title = document.getElementById("kit-modal-title");
            const img = document.getElementById("kit-modal-img");

            title.innerText = "CONTENIDO: KIT " + kitKey.toUpperCase();
            listContainer.innerHTML = kitData[kitKey] || "<li>Información no disponible</li>";
            
            // Mostrar imagen si existe en la configuración
            if(kitImages[kitKey]) {
                img.src = kitImages[kitKey];
                img.style.display = "block";
            } else {
                img.style.display = "none";
            }
            
            modal.style.display = "flex";
        }

        function closeModal(id) { document.getElementById(id).style.display = "none"; }

        // --- 3. SCROLL ---
        const mainContent = document.getElementById('scroll-container');
        const sections = document.querySelectorAll('section');
        const navItems = document.querySelectorAll('.sidebar a.nav-item');

        mainContent.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                if (mainContent.scrollTop >= (section.offsetTop - 150)) {
                    current = section.getAttribute('id');
                }
            });

            navItems.forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('href') === '#' + current) {
                    item.classList.add('active');
                    if(current.includes('semi') || current.includes('vanilla')) {
                        let parentType = current.includes('kits') ? 'kits' : 'rangos';
                        document.getElementById('submenu-' + parentType).classList.add('show');
                        document.getElementById('toggle-' + parentType).classList.add('open');
                    }
                }
            });
        });

        function toggleSubmenu(id) {
            document.getElementById('submenu-' + id).classList.toggle('show');
            document.getElementById('toggle-' + id).classList.toggle('open');
        }

        // --- 4. CARRITO Y PRECIOS ---
        let cart = [];
        let isPermanent = false;

        function togglePrice(sender) {
            if(sender) {
                isPermanent = sender.checked;
                const otherSwitchId = sender.id === 'price-switch-semi' ? 'price-switch-vanilla' : 'price-switch-semi';
                const otherSwitch = document.getElementById(otherSwitchId);
                if(otherSwitch) otherSwitch.checked = isPermanent;
            } else {
                isPermanent = document.getElementById('price-switch-semi').checked;
            }

            const labelSemiM = document.getElementById("label-month-semi");
            const labelSemiP = document.getElementById("label-perm-semi");
            if(labelSemiM && labelSemiP) {
                labelSemiM.classList.toggle("active", !isPermanent);
                labelSemiP.classList.toggle("active", isPermanent);
            }
            const labelVanM = document.getElementById("label-month-vanilla");
            const labelVanP = document.getElementById("label-perm-vanilla");
            if(labelVanM && labelVanP) {
                labelVanM.classList.toggle("active", !isPermanent);
                labelVanP.classList.toggle("active", isPermanent);
            }

            document.querySelectorAll(".amount").forEach(el => {
                el.innerText = isPermanent ? el.getAttribute("data-p") : el.getAttribute("data-m");
            });

            if(cart.length > 0) { cart = []; updateCartUI(); }
        }

        function addToCart(name, btn) {
            const card = btn.closest('.card');
            const price = parseFloat(card.querySelector('.amount').innerText);
            
            let type = "Único";
            if(name.includes("Rango")) {
                type = isPermanent ? "Permanente" : "Mensual";
            } else {
                type = "Paquete"; 
            }

            cart.push({ name, price, type });
            updateCartUI();
            
            const originalText = btn.innerText;
            btn.innerText = "¡Listo!";
            btn.style.borderColor = "var(--success)";
            setTimeout(() => { 
                btn.innerText = originalText; 
                btn.style.borderColor = "var(--primary)";
            }, 1000);
        }

        function updateCartUI() {
            document.getElementById("cart-count").innerText = cart.length;
            const container = document.getElementById("cart-items-container");
            container.innerHTML = "";
            let total = 0;

            if(cart.length === 0) container.innerHTML = '<p style="text-align: center; color: #666;">Vacío</p>';
            
            cart.forEach((item, index) => {
                total += item.price;
                container.innerHTML += `
                    <div class="cart-item">
                        <div>${item.name} <small>(${item.type})</small></div>
                        <div>$${item.price.toFixed(2)} <i class="fas fa-trash" style="color:#ff5555; cursor:pointer; margin-left:10px;" onclick="removeFromCart(${index})"></i></div>
                    </div>`;
            });
            document.getElementById("cart-total-price").innerText = total.toFixed(2);
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCartUI();
        }

        function toggleGiftInput() {
            const isGift = document.getElementById("is-gift").checked;
            document.getElementById("gift-nickname").style.display = isGift ? "block" : "none";
        }

        function checkout() {
            if(cart.length === 0) return alert("Carrito vacío");
            
            const isGift = document.getElementById("is-gift").checked;
            const giftNick = document.getElementById("gift-nickname").value.trim();
            
            let msg = "";
            
            if(isGift) {
                if(!giftNick) return alert("Por favor, ingresa el Nickname del destinatario.");
                msg = `¡Hola! Quiero realizar una compra para **REGALAR**.\n\n👤 **De:** ${globalUser}\n🎁 **Para:** ${giftNick}\n--------------------------------\n`;
            } else {
                msg = `¡Hola! Quiero realizar una compra.\n\n👤 **Usuario:** ${globalUser}\n--------------------------------\n`;
            }
            
            cart.forEach(i => msg += `• ${i.name} [${i.type}] - $${i.price}\n`);
            msg += `--------------------------------\n💰 TOTAL: $${document.getElementById("cart-total-price").innerText} USD\n\nHe leído y acepto los Términos y Condiciones.\nEspero instrucciones de pago.`;
            
            navigator.clipboard.writeText(msg);
            alert("Pedido copiado con éxito. ¡Pégalo en el ticket!");
            window.open("https://discord.gg/PMYA2K3YWy", "_blank");
        }

        function copyIP() { navigator.clipboard.writeText("play.enderland.org"); alert("IP Copiada"); }
    </script>
</body>
</html>
